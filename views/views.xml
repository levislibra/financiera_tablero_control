<openerp>
  <data>

    <!-- tablero tree -->
    
    <record model="ir.ui.view" id="tablero_tree">
      <field name="name">financiera.tablero tree</field>
      <field name="model">financiera.tablero</field>
      <field name="arch" type="xml">
        <tree>
          <field name="name"/>
          <field name="periodo"/>
          <field name="month_string"/>
          <field name="year"/>
          <field name="company_id" groups="base.group_erp_manager"/>
        </tree>
      </field>
    </record>

    <record model="ir.ui.view" id="tablero_form">
      <field name="name">financiera.tablero form</field>
      <field name="model">financiera.tablero</field>
      <field name="arch" type="xml">
        <form create="false" delete="false">
          <header>
            <button name="button_crear_meses" string="Crear meses" type="object" class="oe_highlight"/>
          </header>
          <sheet>
            <group>
              <group>
                <field name="company_id" groups="base.group_erp_manager"/>
                <field name="name"/>
                <field name="periodo" required="1"/>
                <field name="year" required="1"/>
                <field name="month"/>
                <field name="day"/>
                <field name="month_ids"/>
                <field name="day_ids"/>
              </group>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <record id="tablero_kanban" model="ir.ui.view">
        <field name="name">financiera.tablero.kanban</field>
        <field name="model">financiera.tablero</field>
        <field name="arch" type="xml">
            <kanban class="o_res_partner_kanban">
                <field name="id"/>
                <field name="name"/>
                <!-- <field name="email"/> -->
                <field name="year"/>
                <templates>
                    <t t-name="kanban-box">
                        <div t-attf-class="oe_kanban_global_click">
                            <div class="oe_kanban_details">
                                <strong class="o_kanban_record_title">
                                    <field name="name"/>
                                </strong>
                                <div t-if="record.year.value">
                                    <t t-esc="record.year.value"/>
                                </div>
                                <!-- <div t-if="record.email.value">
                                    <t t-esc="record.email.value"/>
                                </div> -->
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
      </record>

    <record model="ir.actions.act_window" id="tablero_action">
      <field name="name">Tablero</field>
      <field name="res_model">financiera.tablero</field>
      <field name="view_mode">kanban,tree,form</field>
      <field name="domain">[('periodo', '=', 'year')]</field>
      <field name="view_ids" eval="[(5, 0, 0), 
        (0, 0, {'view_mode': 'kanban', 'view_id': ref('tablero_kanban')}), 
        (0, 0, {'view_mode': 'tree', 'view_id': ref('tablero_tree')}), 
        (0, 0, {'view_mode': 'form', 'view_id': ref('tablero_form')})]"/>
    </record>

    <!-- Top menu item -->
    
    <menuitem name="Tablero" id="menu_tablero" web_icon="financiera_tablero,static/description/icon.png" action="tablero_action"/>

    <!-- <menuitem name="Reportes" id="menu_cuenta_action" parent="menu_pagos_360" action="cuenta_action" sequence="0"/> -->

  </data>
</openerp>